{"version":3,"file":"index.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nexport async function fetchImages(query) {\n  const API_KEY = '45481518-557ec69fe97012c17356df52c';\n  const BASE_URL = 'https://pixabay.com/api/';\n  \n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  try {\n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.hits.length === 0) {\n          throw new Error(\"No images found\");\n      }\n      \n      return data.hits;\n  } catch (error) {\n      throw error;\n  }\n}\n","// render-functions.js\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';  \n\n    images.forEach(image => {\n        const link = document.createElement('a');\n        link.href = image.largeImageURL;\n        link.classList.add('gallery-link');\n        link.setAttribute('data-lightbox', 'gallery');\n\n        const imgElement = document.createElement('img');\n        imgElement.src = image.webformatURL;\n        imgElement.alt = image.tags;\n        imgElement.classList.add('gallery-image');\n\n        const card = document.createElement('div');\n        card.classList.add('gallery-card');\n\n        const info = document.createElement('div');\n        info.classList.add('gallery-info');\n\n        info.innerHTML = `\n            <p><b>Likes:</b> ${image.likes}</p>\n            <p><b>Views:</b> ${image.views}</p>\n            <p><b>Comments:</b> ${image.comments}</p>\n            <p><b>Downloads:</b> ${image.downloads}</p>\n        `;\n\n        link.appendChild(imgElement);\n        card.appendChild(link);\n        card.appendChild(info);\n        gallery.appendChild(card);\n    });\n\n       if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n    } else {\n        lightbox.refresh();\n    }\n}\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n    });\n}\n\nexport function showNoResultsMessage() {\n    iziToast.warning({\n        title: 'Warning',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n}\n","// main.js\n\nimport { fetchImages } from './js/pixabay.js';\nimport { renderGallery, showError, showNoResultsMessage } from './js/render-functions.js';\n\ndocument.querySelector('.search-form').addEventListener('submit', async (event) => {\n    event.preventDefault();\n    \n    const query = event.currentTarget.elements.searchQuery.value.trim();\n    \n    if (query === '') {\n        showError('Search query cannot be empty!');\n        return;\n    }\n\n    \n\n    try {\n        const images = await fetchImages(query);\n        renderGallery(images);\n    } catch (error) {\n        if (error.message === \"No images found\") {\n            showNoResultsMessage();\n        } else {\n            showError('Something went wrong. Please try again later.');\n        }\n    }\n});\n\n\n"],"names":["fetchImages","query","url","data","error","lightbox","renderGallery","images","gallery","image","link","imgElement","card","info","SimpleLightbox","showError","message","iziToast","showNoResultsMessage","event"],"mappings":"6vBAEO,eAAeA,EAAYC,EAAO,CAIvC,MAAMC,EAAM,qEAAgC,mBAAmBD,CAAK,CAAC,2DAErE,GAAI,CAEA,MAAME,EAAO,MADI,MAAM,MAAMD,CAAG,GACJ,OAE5B,GAAIC,EAAK,KAAK,SAAW,EACrB,MAAM,IAAI,MAAM,iBAAiB,EAGrC,OAAOA,EAAK,IACf,OAAQC,EAAO,CACZ,MAAMA,CACT,CACH,CCZA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOD,EAAM,cAClBC,EAAK,UAAU,IAAI,cAAc,EACjCA,EAAK,aAAa,gBAAiB,SAAS,EAE5C,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAM,aACvBE,EAAW,IAAMF,EAAM,KACvBE,EAAW,UAAU,IAAI,eAAe,EAExC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,cAAc,EAEjCA,EAAK,UAAY;AAAA,+BACMJ,EAAM,KAAK;AAAA,+BACXA,EAAM,KAAK;AAAA,kCACRA,EAAM,QAAQ;AAAA,mCACbA,EAAM,SAAS;AAAA,UAG1CC,EAAK,YAAYC,CAAU,EAC3BC,EAAK,YAAYF,CAAI,EACrBE,EAAK,YAAYC,CAAI,EACrBL,EAAQ,YAAYI,CAAI,CAChC,CAAK,EAEOP,EAGJA,EAAS,QAAO,EAFhBA,EAAW,IAAIS,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CAI9F,CAEO,SAASC,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,GAAuB,CACnCD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0EACjB,CAAK,CACL,CC1DA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,MAAOE,GAAU,CAC/EA,EAAM,eAAc,EAEpB,MAAMlB,EAAQkB,EAAM,cAAc,SAAS,YAAY,MAAM,OAE7D,GAAIlB,IAAU,GAAI,CACdc,EAAU,+BAA+B,EACzC,MACH,CAID,GAAI,CACA,MAAMR,EAAS,MAAMP,EAAYC,CAAK,EACtCK,EAAcC,CAAM,CACvB,OAAQH,EAAO,CACRA,EAAM,UAAY,kBAClBc,IAEAH,EAAU,+CAA+C,CAEhE,CACL,CAAC"}